# 精班棋

## 游戏介绍

精班棋是一款自由度很高的棋类游戏

游戏中有红蓝双方，你需要操纵一方的棋子按照规则来获得胜利

游戏的地图（包含棋盘信息等）不是固定的，你可以**自定义地图**，也可以下载已经预设好的地图进行游戏

你可以在一台设备上进行**单人游戏**，也可以建立服务器进行**多人联机**

## 游戏规则

在开始游戏后，红方为先手，一人一步进行游戏，以先吃掉对方的首领棋子（任意1个即可）为胜利条件

## 自定义地图

### 简介

自定义地图是`.xlsx`文件，其中包含3个表，分别对应棋子、棋盘与特殊规则

### 棋盘构造

横坐标为`x`，纵坐标为`y`

自左上至右下坐标轴编号**由1递增**，自右下至左上坐标轴编号**由-1递减**

### 棋子表

棋子表的名称为`chesses`

棋子表中会有一些通用的语法规则，规则如下：

1. 棋盘位置规则

   - 使用`:`连接坐标轴（`x`或`y`）与坐标轴编号
   - 使用`&`连接两个单一判断规则（`&`表示**或**，即棋子位置只要有一项满足该棋盘位置规则则返回值为`true`）
   - 示例：`x:1&x:-1&y:1&y:-1`表示棋盘边缘区域

2. 可移动规则

   - 该语法规则分为两部分，第一部分为可以向某方向移动一格，第二部分为可以向某方向移动无限格。两部分语法相同，两部分间用`;`隔开
   - 在每一部分中，用`,`分隔开所有可行走方向，这些方向按**左上、上、右上、左、右、左下、下、右下**分别对应1-9
   - 如果这一方向上是否可以行走有位置限制，可以在方向编号后加上`()`并在内部填上*棋盘位置规则*语法段
   - 在第二部分中出现的可行走方向可以不出现在第一部分中
   - 如果没有第二部分（或第一部分）也需要在后面（或前面）加上`;`
   - 示例：`1(y:4&y:5&y:6),3(y:2&y:3&y:4),4(y:7),5(y:1);2`

3. 补充说明

   - 以上规则的方向等概念均以红方棋盘为正向

棋子表的每一列内容依次是：

```
编号 名称 归属 首领 可移动 升变条件 升变后可移动
```

这些内容必须**按序**排列，具体填写规则如下：

1. 编号

   - 每个棋子独立的不同的编号
   - 按照顺序由1递增

2. 名称

   - 可以重复
   - 长度尽量**小于等于3**

3. 归属
   
   - 红方为1，蓝方为2，中立为3
   - 中立棋子双方都可以移动，但既不能吃子也不能被吃

4. 首领

   - 默认值为空，如果某棋子是首领则需要填入`c`
   - 首领数量不限，但每方至少需要1个（否则将无法结束游戏）

5. 可移动
   
   - 填入*可移动规则*

6. 升变条件

   - 填入*棋盘位置规则*，默认值为空，即不启用升变
   - 当棋子位置符合升变条件时，其可移动规则永久变为*升变后可移动*

7. 升变后可移动

   - 填入*可移动规则*
   - 该角色无法升变时仍需填写`;`


### 棋盘表

### 特殊规则表

## 多人联机
